<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Bloxd.io Code Builder</title>
  <script src="https://unpkg.com/blockly/blockly.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <style>
    body {
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      height: 100vh;
      margin: 0;
    }
    #blocklyDiv {
      height: 50vh;
      width: 100%;
    }
    #codeArea {
      flex: 1;
      padding: 10px;
      background: #1e1e1e;
      color: white;
      overflow: auto;
    }
    pre {
      margin: 0;
    }
    button {
      margin: 5px;
      padding: 10px 20px;
      font-weight: bold;
    }
  </style>
</head>
<body>

  <div id="blocklyDiv"></div>

  <xml id="toolbox" style="display: none">
    <category name="Player" colour="230">
      <block type="get_position"></block>
      <block type="set_velocity"></block>
      <block type="set_health"></block>
      <block type="get_health"></block>
      <block type="set_skin"></block>
      <block type="set_pose"></block>
      <block type="teleport_player"></block>
    </category>
    <category name="Messages" colour="210">
      <block type="send_message"></block>
      <block type="broadcast_message"></block>
      <block type="send_flying_message"></block>
    </category>
    <category name="Particles" colour="30">
      <block type="play_particles"></block>
    </category>
    <category name="Blocks" colour="60">
      <block type="set_block"></block>
      <block type="get_block"></block>
      <block type="remove_block"></block>
    </category>
    <category name="Inventory" colour="90">
      <block type="give_item"></block>
      <block type="drop_item"></block>
      <block type="remove_item"></block>
    </category>
    <category name="Entities" colour="120">
      <block type="spawn_entity"></block>
      <block type="set_entity_velocity"></block>
      <block type="play_entity_sound"></block>
      <block type="remove_entity"></block>
    </category>
    <category name="Math" colour="230">
      <block type="math_number"></block>
      <block type="math_arithmetic"></block>
      <block type="math_random_int"></block>
    </category>
    <category name="Logic" colour="210">
      <block type="controls_if"></block>
      <block type="logic_compare"></block>
      <block type="logic_boolean"></block>
    </category>
    <category name="Loops" colour="120">
      <block type="controls_repeat_ext"></block>
      <block type="controls_whileUntil"></block>
    </category>
    <category name="Events" colour="65">
      <block type="event_player_join"></block>
      <block type="event_player_leave"></block>
      <block type="event_player_click"></block>
    </category>
  </xml>

  <div style="padding: 10px; background: #f0f0f0; display: flex; justify-content: space-between;">
    <button id="generateBtn">Generate JavaScript</button>
    <button onclick="copyCode()">Copy Code</button>
  </div>

  <div id="codeArea">
    <pre><code id="codeOutput" class="language-javascript">// Your code will appear here...</code></pre>
  </div>

  <script src="script.js"></script>

</body>
</html>
